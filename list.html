<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="list.css" />
  </head>

  <div class="card-group container">
    <div class="card">
      <img src="https://via.placeholder.com/600" />
      <div class="card-body">
        <h5>Card title1</h5>
        <p>가격 : 10000</p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/600" />
      <div class="card-body">
        <h5>Card title2</h5>
        <p>가격 : 20000</p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/600" />
      <div class="card-body">
        <h5>Card title3</h5>
        <p>가격 : 30000</p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
  </div>

  <!-- select -->
  <form class="container my-5 form-group">
    <p>상품선택</p>
    <select class="form-select mt-2">
      <option>모자</option>
      <option>셔츠</option>
      <option>바지</option>
    </select>
    <select class="form-select shirt-size form-hide">
      <option>95</option>
      <option>100</option>
    </select>
  </form>

  <form class="container my-5 form-group">
    <p>상품선택, 데이터받아온다고 생각</p>
    <select class="form-select mt-2">
      <option>모자</option>
      <option>셔츠</option>
      <option>바지</option>
    </select>
    <select class="form-select shirt-size form-hide">
      <option>95</option>
      <option>100</option>
    </select>
  </form>

  <script>
    var products = [
      { id: 0, price: 70000, title: "Blossom Dress" },
      { id: 1, price: 50000, title: "Springfield Shirt" },
      { id: 2, price: 60000, title: "Black Monastery" },
    ];

    const priceVar = document.querySelectorAll(".card-body p");
    const titleVar = document.querySelectorAll(".card-body h5");

    for (let i = 0; i < 3; i++) {
      priceVar[i].innerText = `가격 : ${products[i]["price"]}`;
      titleVar[i].innerText = `${products[i]["title"]}`;
    }

    // select
    // 설렉트별 html 새로 만드는 것까지.

    document
      .querySelectorAll(".form-select")[0]
      .addEventListener("input", function () {
        if (document.querySelectorAll(".form-select")[0].value === "셔츠") {
          document
            .querySelectorAll(".form-select")[1]
            .classList.remove("form-hide");
          document.querySelectorAll(".form-select")[1].innerHTML = "";
          var a = "<option>95</option><option>100</option>";
          document.querySelectorAll(".form-select")[1].innerHTML = a;
        } else if (
          document.querySelectorAll(".form-select")[0].value === "모자"
        ) {
          document
            .querySelectorAll(".form-select")[1]
            .classList.add("form-hide");
        } else if (
          document.querySelectorAll(".form-select")[0].value === "바지"
        ) {
          document
            .querySelectorAll(".form-select")[1]
            .classList.remove("form-hide");
          document.querySelectorAll(".form-select")[1].innerHTML = "";
          var a = "<option>28</option><option>30</option>";
          document
            .querySelectorAll(".form-select")[1]
            .insertAdjacentHTML("beforeend", a);
        }
      });

    // 서버에서 데이터 받아와서, select option 갯수 생성

    var pants = [28, 30, 32];
    var shirt = [95, 100];

    document
      .querySelectorAll(".form-select")[2]
      .addEventListener("input", function () {
        if (document.querySelectorAll(".form-select")[2].value === "셔츠") {
          document
            .querySelectorAll(".form-select")[3]
            .classList.remove("form-hide");
          document.querySelectorAll(".form-select")[3].innerHTML = "";

          for (let i = 0; i < shirt.length; i++) {
            var a = document.createElement("option");
            a.innerText = shirt[i];
            document.querySelectorAll(".form-select")[3].appendChild(a);
          }
        } else if (
          document.querySelectorAll(".form-select")[2].value === "모자"
        ) {
          document
            .querySelectorAll(".form-select")[3]
            .classList.add("form-hide");
        } else if (
          document.querySelectorAll(".form-select")[2].value === "바지"
        ) {
          document
            .querySelectorAll(".form-select")[3]
            .classList.remove("form-hide");
          document.querySelectorAll(".form-select")[3].innerHTML = "";

          pants.forEach(function (x) {
            var a = document.createElement("option");
            a.innerText = x;
            document.querySelectorAll(".form-select")[3].appendChild(a);
          });
        }
      });
  </script>
  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
